{% extends "adminnav.html" %} {% load static %} {% block content %}

<!-- CSS -->
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.css"
/>
<link
  rel="stylesheet"
  href="https://cdn.datatables.net/1.13.7/css/dataTables.bootstrap4.min.css"
/>

<!-- JS -->
<script src="https://code.jquery.com/jquery-3.7.1.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.11.8/umd/popper.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.7/js/dataTables.bootstrap4.min.js"></script>

<script>
  $(document).ready(function () {
    $("#example").DataTable();
  });
</script>

<div class="container mt-5">
  <h2 class="text-center">All Notes</h2>
  <hr />
  <table class="table table-bordered" id="example">
    <thead>
      <tr>
        <th>S .No.</th>
        <th>Uploaded By</th>
        <th>Uploading date</th>
        <th>Branch</th>
        <th>Subject</th>
        <th>Download Notes</th>
        <th>file type</th>
        <th>Descrption</th>
        <th>Status</th>
        <th>Assign</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      {% for i in notes %}
      <tr>
        <td>{{forloop.counter}}</td>
        <td>{{i.user.username}}</td>
        <td>{{i.uploadingdate}}</td>
        <td>{{i.branch}}</td>
        <td>{{i.subject}}</td>
        <td>
          <a
            href="{{ i.notesfile.url }}"
            target="_blank"
            class="btn btn-success"
            >Download</a
          >
        </td>
        <td>{{i.filetype}}</td>
        <td>{{i.description}}</td>
        <td>{{i.status}}</td>

        <td>
          <a href="{% url 'assign_status' pid=i.id %}" class="btn btn-success"
            >Assign&nbsp;Status</a
          >
        </td>
        <td>
          <a
            href="{% url 'delete_notes' pid=i.id %}"
            class="btn btn-danger"
            onclick="return confirm('are you sure ??')"
            >Delete</a
          >
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

{% endblock content %}
