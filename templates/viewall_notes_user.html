{% extends "usernav.html" %} {% load static %} {% block content %}
<div class="container mt-4">
  <div class="card border-0 shadow-sm rounded-3 bg-white">
    <div
      class="card-header bg-teal text-white d-flex align-items-center justify-content-between rounded-top"
    >
      <h2 class="mb-0">
        <i class="fas fa-book-open me-2"></i>Shared Notes Library
      </h2>
      <a
        href="{% url 'upload_notes' %}"
        class="btn btn-amber btn-sm rounded-pill fw-bold"
      >
        Share a Note <i class="fas fa-plus"></i>
      </a>
    </div>
    <div class="card-body p-4">
      {% if notes %}
      <div class="table-responsive">
        <table class="table table-striped table-bordered align-middle">
          <thead class="bg-light text-dark">
            <tr>
              <th class="text-center">#</th>
              <th>Title</th>
              <th>Description</th>
              <th>Category</th>
              <th>Subject</th>
              <th>Uploaded By</th>
              <th>Date</th>
              <th>File</th>
            </tr>
          </thead>
          <tbody>
            {% for note in notes %}
            <tr>
              <td class="text-center">{{ forloop.counter }}</td>
              <td class="fw-bold text-teal">{{ note.title }}</td>
              <td>{{ note.description|truncatechars:50 }}</td>
              <td>{{ note.category }}</td>
              <td>{{ note.subject_id.subject_name }}</td>
              <td>{{ note.user_id.username }}</td>
              <td>{{ note.upload_date|date:"M d, Y" }}</td>
              <td>
                <a
                  href="{{ note.notes_file.url }}"
                  target="_blank"
                  class="btn btn-primary btn-sm rounded-pill"
                >
                  <i class="fas fa-download"></i> Download
                </a>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      {% else %}
      <div class="alert alert-amber text-center rounded-3 p-4">
        <i class="fas fa-lightbulb fa-2x mb-2"></i>
        <p class="mb-0">
          No notes shared yet! Be the first to contribute your knowledge to the
          library.
        </p>
      </div>
      {% endif %}
    </div>
  </div>
</div>
<style>
  .card-header.bg-teal {
    background-color: #20c997 !important;
  }
  .btn-amber {
    background-color: #ffc107;
    color: #212529;
    border: none;
  }
  .btn-amber:hover {
    background-color: #e0a800;
    color: #212529;
  }
  .text-teal {
    color: #20c997 !important;
  }
  .alert-amber {
    background-color: #fff8e1;
    border-color: #ffecb3;
    color: #664d03;
  }
  .table th,
  .table td {
    vertical-align: middle;
  }
  .btn-sm {
    padding: 0.3rem 0.8rem;
  }
</style>
{% endblock %}
